<ba-customer-navbar></ba-customer-navbar>

<mat-card class="card">
  <mat-stepper [linear]="true" orientation="vertical" #stepper>

    <mat-step [stepControl]="payeeSelectionGroup">
      <form [formGroup]="payeeSelectionGroup">
        <ng-template matStepLabel>Select Payee</ng-template>
        <div>
          <mat-form-field appearance="outline">
            <mat-label>Payee name</mat-label>
            <mat-select disableOptionCentering formControlName="payee">
              <mat-option *ngFor="let p of payee_array" [value]="p">{{p.name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div>
          <button mat-raised-button matStepperNext (click)="populatePayeeEdit()" class="bg-primary stepper-button-next">Next</button>
        </div>
      </form>
    </mat-step>


    <mat-step [stepControl]="payeeFormGroup">
      <form [formGroup]="payeeFormGroup">
        <ng-template matStepLabel>Edit details</ng-template>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Payee name</mat-label>
          <input matInput formControlName="name">
          <mat-hint>Can be a nickname</mat-hint>
          <mat-error></mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Account number</mat-label>
          <input matInput formControlName="accountNumber">
          <mat-hint>You cannot change Account number of an existing payee</mat-hint>
          <mat-error></mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="text-area">
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description"></textarea>
          <mat-hint>Max 250 characters</mat-hint>
          <mat-error></mat-error>
        </mat-form-field>


      </form>
      <div>
        <button mat-button matStepperPrevious class="stepper-button-back bg-primary">Back</button>
        <button mat-button class="bg-primary stepper-button-back" (click)="populatePayeeEdit()"><mat-icon>cached</mat-icon>    Reset data</button>
        <button mat-button (click)="onSave()" class="save" [disabled]="!payeeFormGroup.valid"><mat-icon>save</mat-icon>     Save</button>
      </div>

    </mat-step>

  </mat-stepper>
</mat-card>

<ba-bottom-bar></ba-bottom-bar>
